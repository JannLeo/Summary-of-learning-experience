## 16 周学习总结

由于MyoWare 2.0 的电路图在全网都没有找到，暂时找到了MyoWare 1.0 的电路图，拟根据该电路图来学习EMG传感器的工作原理。

- #### EMG传感器工作电路图原理

![image-20240214191259103](16week_summarize.assets/image-20240214191259103.png)

如上图所示，我们可以得到如下结论。

- 电源电路：当肌肉传感器贴在肌肉上并且感知到电流变化时，电极C会读取一个参考电流（放在肌电信号不敏感的位置）。
- <img src="16week_summarize.assets/image-20240214212518942.png" alt="image-20240214212518942" style="zoom:50%;" />
  - 为了防止供电电压（type c供电）影响参考电极测得的电压，所以首先加了C3滤除电源线上的高频噪声。
  - 使用放大器（48）来减少电源噪声使其不影响参考电压。
- 16：电极A与电极B是肌肉表面采集的电信号，在放大器中进行差分之后放大（默认200倍）。
- <img src="16week_summarize.assets/image-20240214212540119.png" alt="image-20240214212540119" style="zoom:50%;" />
  - 放大器一般需要高输入阻抗（高电阻R1）高增益稳定性（可以提供高增益）和良好共模抑制能力（只放大不同输入端之间的信号）的放大器。
  - 参考电压VREF主要确保信号可以正确地被放大和偏置。
- 18：放大之后的信号进入高通滤波器中以去除低频信号和潜在的直流偏移，隔离肌肉活动信号。
- <img src="16week_summarize.assets/image-20240214212603020.png" alt="image-20240214212603020" style="zoom:50%;" />
  - 电容C1和电阻R2组成了滤波器的RC部分，R3当作反馈电阻，三个器件一起定义滤波器的截止频率。
  - R2与R3电阻应该是相同的来确保增益为1。
- 经过高通滤波器之后就输出了原始输出，接下来进入全波整流器（20）。
- <img src="16week_summarize.assets/image-20240214212626294.png" alt="image-20240214212626294" style="zoom:50%;" />
  - R4,R5,R6这三个电阻用于限制电流、设置放大器的增益或者提供偏置。
  - 输入有VREF的放大器（45）加上D1二极管组成了超前-滞后整流器（精密整流器），用来输出肌电信号的绝对值 。
- 22：代表差分放大器，放大两个输入信号之间的差异，这两个信号分别是参考电压VREF和全波整流器之后的肌电信号。
- <img src="16week_summarize.assets/image-20240214214400344.png" alt="image-20240214214400344" style="zoom:50%;" />
  - R9,R10是反馈电阻，通常用来设置放大器的增益。
  - R7,R8是输入电阻，用来匹配输入的阻抗以及设置增益
  - 46是放大器负责放大两个输入的差值。
- 24：是一个积分放大器，它用于形成EMG信号的包络。
- ![image-20240214215308989](16week_summarize.assets/image-20240214215308989.png)
  - R11,R12与电容C2一起定义了积分器的时间常数，影响信号的积分速度与滤波特性。
  - C2在积分放大器中负责累积电荷，从而对输入信号进行积分操作。
  - 47是一个运算放大器，执行积分运算的同时将输入的电压变化转换成时间上的积分，以输出连续的信号。
  - J1与R13是跳线或者可调节电阻，用于调节电路的工作状态或增益。
  - 28是一个二极管，用于保护电路。

总而言之，该电路在测量到肌电信号后，利用参考信号与AB两点的信号放大并做差、整流、去除偏移最后集成成一个EMG的包络信号。

