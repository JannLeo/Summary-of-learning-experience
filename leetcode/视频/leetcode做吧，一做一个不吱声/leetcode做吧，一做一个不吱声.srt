1
00:00:01,766 --> 00:00:02,833
又做完ET了兄弟们

2
00:00:04,866 --> 00:00:06,266
今天是第四题啊

3
00:00:06,266 --> 00:00:07,366
讲到困困难题

4
00:00:07,366 --> 00:00:09,233
寻找两个正序数组的中位数

5
00:00:09,466 --> 00:00:11,100
给定两个大小分别为m和n的

6
00:00:11,100 --> 00:00:12,633
正序从小到大的数组

7
00:00:12,633 --> 00:00:13,800
那么S1和S2

8
00:00:14,000 --> 00:00:14,466
请你找出b

9
00:00:14,466 --> 00:00:16,100
返回这两个数组的中位数

10
00:00:16,233 --> 00:00:18,566
嗯时间复杂度应该是o log m加n

11
00:00:18,633 --> 00:00:20,033
我们昨天讲了就是log

12
00:00:20,033 --> 00:00:21,633
一看到log就应该是二分法对吧

13
00:00:21,700 --> 00:00:22,266
然后m加n呢

14
00:00:22,266 --> 00:00:23,466
这个就是嗯

15
00:00:23,466 --> 00:00:25,866
可能就是要把两个数组

16
00:00:25,866 --> 00:00:27,066
同时一起考虑的一个情况

17
00:00:27,066 --> 00:00:28,200
就是我们说的就是一个二分叉

18
00:00:28,200 --> 00:00:29,966
找的找DK大的一个数啊

19
00:00:29,966 --> 00:00:31,066
就是昨天的那个东西

20
00:00:31,066 --> 00:00:33,666
然后今天我们来讲一下这个划分数组

21
00:00:33,966 --> 00:00:35,466
啊讲划分数组之前呢

22
00:00:35,466 --> 00:00:36,200
这个我们要理解一下

23
00:00:36,200 --> 00:00:37,066
这个中位数的本质

24
00:00:37,066 --> 00:00:40,033
就是划分两个长度相等的子集

25
00:00:40,033 --> 00:00:41,466
对吧两个长度相等就是很重要

26
00:00:41,466 --> 00:00:42,166
长度相等

27
00:00:42,166 --> 00:00:42,433
而并且

28
00:00:42,433 --> 00:00:43,633
一个子集的元素

29
00:00:43,633 --> 00:00:45,166
总是大于另一个子集的元素

30
00:00:45,166 --> 00:00:47,000
对吧所以说这两个条件

31
00:00:47,000 --> 00:00:47,966
一个是长度相等

32
00:00:47,966 --> 00:00:48,266
然后

33
00:00:48,266 --> 00:00:50,800
一个是一个子集总是大于另一个子集

34
00:00:50,966 --> 00:00:52,666
好那我们现在就是把这个本子

35
00:00:52,666 --> 00:00:53,400
运用到这个

36
00:00:53,400 --> 00:00:54,633
这两个a b数组织中

37
00:00:54,966 --> 00:00:55,900
把它分为两部分

38
00:00:56,066 --> 00:00:57,633
然后因为a里面有m个

39
00:00:57,633 --> 00:00:59,766
所以它有m加一种划分方法

40
00:00:59,766 --> 00:01:02,266
对吧就是它空隙是m加一个嘛

41
00:01:03,166 --> 00:01:04,433
然后比如它两个元素

42
00:01:04,433 --> 00:01:05,566
它就有3种划分方法嘛

43
00:01:05,566 --> 00:01:06,366
对吧

44
00:01:06,866 --> 00:01:09,233
然后就是左边部分假设是有i个元素

45
00:01:09,233 --> 00:01:11,033
右边部分就是有m减i个元素嘛

46
00:01:11,266 --> 00:01:12,900
然后换重要地方来

47
00:01:12,900 --> 00:01:14,833
这个就是一个数学的一个证明嘛

48
00:01:14,900 --> 00:01:15,700
呃

49
00:01:16,000 --> 00:01:18,000
我们需要就是熟悉掌握并且会把这

50
00:01:18,000 --> 00:01:18,666
个转换成代码

51
00:01:18,666 --> 00:01:19,900
然后以后遇到的话

52
00:01:20,200 --> 00:01:21,366
就是能够知道

53
00:01:21,366 --> 00:01:23,500
怎么样去用这个算法实现出来

54
00:01:23,500 --> 00:01:24,566
我觉得还是很重要的

55
00:01:24,566 --> 00:01:25,600
然后面试的时候

56
00:01:25,600 --> 00:01:26,200
我觉得如果说

57
00:01:26,200 --> 00:01:28,666
你写到了划分数组的这种方式的话

58
00:01:28,666 --> 00:01:30,300
我觉得应该不会

59
00:01:30,300 --> 00:01:32,700
就是面试官不会太为难你啊

60
00:01:32,700 --> 00:01:33,100
回到正题

61
00:01:33,100 --> 00:01:33,833
就是说可以确认

62
00:01:33,833 --> 00:01:36,100
就是左边的部分的长度

63
00:01:36,100 --> 00:01:36,833
等右边的部分长度

64
00:01:36,833 --> 00:01:37,633
为什么呢

65
00:01:38,366 --> 00:01:40,566
因为这个就是长度相等的子集嘛

66
00:01:40,566 --> 00:01:42,566
中位数的本质那因为是偶数嘛

67
00:01:42,566 --> 00:01:44,900
所以中位数就是中间数的左右相加

68
00:01:44,900 --> 00:01:45,500
除以2嘛

69
00:01:45,500 --> 00:01:46,000
然后奇数呢

70
00:01:46,000 --> 00:01:48,866
就是左边部分等于右边部分加一嘛

71
00:01:48,866 --> 00:01:50,000
就左边部分会多一个嘛

72
00:01:50,000 --> 00:01:51,233
就这么设设置的嘛

73
00:01:51,600 --> 00:01:53,800
然后把它转换过来

74
00:01:53,800 --> 00:01:58,033
就是左边a的a的左边就是i i个元素

75
00:01:58,200 --> 00:01:59,466
b的左边就是z个元素

76
00:01:59,666 --> 00:02:01,166
然后a的右边就是m减i个

77
00:02:01,166 --> 00:02:02,666
b的右边就是n减z一个对吧

78
00:02:03,033 --> 00:02:04,366
然后奇数就是这样的嘛

79
00:02:04,833 --> 00:02:06,366
然后为什么要把它写在一起呢

80
00:02:06,366 --> 00:02:07,433
就是它到后面的话

81
00:02:07,433 --> 00:02:09,033
其实可以把它合并起来

82
00:02:09,300 --> 00:02:10,400
也就是一起表示了

83
00:02:10,400 --> 00:02:11,266
就不用考虑奇偶数

84
00:02:11,266 --> 00:02:11,600
为什么呢

85
00:02:11,600 --> 00:02:13,666
因为呃到这边就知道

86
00:02:13,666 --> 00:02:15,266
等一下然后我们需

87
00:02:15,266 --> 00:02:18,100
就是把把这个这句话转换成条件的话

88
00:02:18,166 --> 00:02:20,433
这是第一个长度相等的值几对吧

89
00:02:20,633 --> 00:02:21,566
然后第二个就是

90
00:02:23,033 --> 00:02:23,966
左边部分的最大值

91
00:02:23,966 --> 00:02:25,400
肯定要小于右边部分最小值

92
00:02:26,100 --> 00:02:27,600
对吧就是

93
00:02:27,633 --> 00:02:29,700
这个是满足中位数中位数一个条件

94
00:02:29,966 --> 00:02:33,566
这个是满足就是呃已经划分好的条件

95
00:02:34,300 --> 00:02:36,366
就是就这个划分好了之后

96
00:02:36,633 --> 00:02:38,666
他那个两边不一定是中位数

97
00:02:39,200 --> 00:02:40,500
如果说这样的排好序了之后他两

98
00:02:40,500 --> 00:02:41,166
边肯定是中位数

99
00:02:41,166 --> 00:02:42,000
就这个意思

100
00:02:43,233 --> 00:02:43,900
那就可以确定

101
00:02:43,900 --> 00:02:46,100
a b中所有的元数被划分为两个部分

102
00:02:46,433 --> 00:02:47,800
嗯为什么要算

103
00:02:48,166 --> 00:02:48,833
然后就是啊

104
00:02:48,833 --> 00:02:50,566
右边部分跟左边部分的长度相等

105
00:02:50,566 --> 00:02:51,300
或者多一个

106
00:02:51,300 --> 00:02:52,300
这个后面考虑

107
00:02:52,466 --> 00:02:53,866
这个暂时先不要想太多

108
00:02:53,866 --> 00:02:54,466
然后中位数

109
00:02:54,466 --> 00:02:55,366
就是左边最大值

110
00:02:55,366 --> 00:02:56,700
和右边最小值的平均值

111
00:02:57,233 --> 00:02:59,800
对吧因为我们就是只看他的

112
00:02:59,900 --> 00:03:00,833
左边部分的最大值

113
00:03:00,833 --> 00:03:02,100
还有右边部分最小值

114
00:03:03,066 --> 00:03:03,866
然后就是

115
00:03:03,866 --> 00:03:04,600
如果是偶数的话

116
00:03:04,600 --> 00:03:05,266
就是这个

117
00:03:05,266 --> 00:03:06,833
左边部分最大值加右边部分最小值

118
00:03:06,833 --> 00:03:07,633
除以2嘛

119
00:03:07,866 --> 00:03:08,633
然后如果是奇数的话

120
00:03:08,633 --> 00:03:09,666
就左边部分最大值了嘛

121
00:03:09,666 --> 00:03:11,866
对吧就是这样的一个意思

122
00:03:12,266 --> 00:03:13,866
然后通过以上条件可以算出来

123
00:03:13,866 --> 00:03:15,000
当i属于o呃

124
00:03:15,000 --> 00:03:16,266
0到m的时候

125
00:03:16,666 --> 00:03:18,100
这这题我们有一个前提条件

126
00:03:18,100 --> 00:03:20,233
就是假设a是a数组

127
00:03:20,233 --> 00:03:22,466
是长度比较小的那一个数组

128
00:03:22,633 --> 00:03:23,266
如果说不是呢

129
00:03:23,266 --> 00:03:23,966
你可以把它换

130
00:03:23,966 --> 00:03:25,900
就说把AB数组交换一下

131
00:03:27,233 --> 00:03:27,866
那这个时候呢

132
00:03:27,866 --> 00:03:31,233
j就等于二分之m加n加e除减i

133
00:03:31,300 --> 00:03:32,066
这是怎么得到呢

134
00:03:32,066 --> 00:03:33,700
就是通过这这个式子得到的

135
00:03:33,700 --> 00:03:34,700
就是这个式子

136
00:03:34,700 --> 00:03:35,666
就是通过这个条件得到的

137
00:03:35,666 --> 00:03:36,866
两个长度相等的

138
00:03:36,900 --> 00:03:39,433
是吧然后为什么就是说嗯

139
00:03:39,433 --> 00:03:40,500
不管g o都是加一呢

140
00:03:40,500 --> 00:03:41,300
因为

141
00:03:41,800 --> 00:03:43,233
因为1/2就是这个

142
00:03:43,233 --> 00:03:44,200
如果是偶数的话

143
00:03:44,200 --> 00:03:46,100
它加1/2 这里

144
00:03:46,366 --> 00:03:47,466
这里就多出来一个1/2

145
00:03:47,466 --> 00:03:48,066
就等于0

146
00:03:48,066 --> 00:03:49,033
所以说还是等于f

147
00:03:49,033 --> 00:03:51,766
m加n相当于二分之呃m加n

148
00:03:51,766 --> 00:03:52,366
如果是偶数的话

149
00:03:52,366 --> 00:03:53,866
就是2/2

150
00:03:54,166 --> 00:03:57,233
所以说4/2和4/2加一其实是一个结果

151
00:03:57,233 --> 00:03:59,100
就是4/2和5/2是一个结果

152
00:03:59,266 --> 00:04:00,066
都是2嘛

153
00:04:00,833 --> 00:04:01,300
它这个

154
00:04:01,300 --> 00:04:03,433
除法是有一个呃向下取整的一个效果

155
00:04:03,433 --> 00:04:04,966
所以说就直接这样考虑了

156
00:04:05,866 --> 00:04:07,366
然后这个时候还需要证明一个

157
00:04:07,366 --> 00:04:08,266
就是嗯

158
00:04:08,266 --> 00:04:11,100
在0到m里面存在一个IS的一个嗯

159
00:04:11,866 --> 00:04:13,100
a的这个东西是

160
00:04:15,433 --> 00:04:17,833
大于等于b的j减一

161
00:04:17,866 --> 00:04:20,900
并且a的i减一是小于等于b的j的

162
00:04:21,800 --> 00:04:22,166
这什么意思

163
00:04:22,166 --> 00:04:23,300
就是说嗯

164
00:04:23,966 --> 00:04:25,000
这边吧假设

165
00:04:25,233 --> 00:04:27,700
假设这个红色的到这边

166
00:04:28,033 --> 00:04:28,766
这个是i

167
00:04:28,766 --> 00:04:29,566
这个是z

168
00:04:30,633 --> 00:04:34,233
就是a的i和b的这减一

169
00:04:35,000 --> 00:04:36,300
b的这减一一定要小于这个

170
00:04:36,500 --> 00:04:38,033
然后a的i减一

171
00:04:38,033 --> 00:04:40,566
一定要小于等于be的z

172
00:04:40,866 --> 00:04:42,166
他这样划分成了两个部分

173
00:04:42,166 --> 00:04:44,000
比如这边一个部分呃

174
00:04:44,000 --> 00:04:45,500
一定要划分成相等长度了

175
00:04:45,566 --> 00:04:46,466
那就这样划分嘛

176
00:04:46,466 --> 00:04:48,100
这样这左边是5个嘛

177
00:04:48,366 --> 00:04:49,233
右边也是5个

178
00:04:49,600 --> 00:04:51,600
然后就必须得这个要小于这个

179
00:04:51,600 --> 00:04:52,833
然后这个要小于这个

180
00:04:52,866 --> 00:04:53,666
小于等于个题嘛

181
00:04:54,000 --> 00:04:56,900
那这样的话就是可以算出来就是呃

182
00:04:58,433 --> 00:04:59,233
这样的

183
00:05:00,966 --> 00:05:01,633
那这样就可以算出来

184
00:05:01,633 --> 00:05:04,000
它中位数就是这个加这个G2了

185
00:05:04,000 --> 00:05:04,800
对吧

186
00:05:05,600 --> 00:05:07,466
大概就是这样的意思然后

187
00:05:09,100 --> 00:05:11,066
然后就可以证明了就是

188
00:05:12,466 --> 00:05:13,233
可以证明出来

189
00:05:13,233 --> 00:05:15,200
就是他们这两个条件不用考虑两个

190
00:05:15,200 --> 00:05:15,600
只用考虑一个

191
00:05:15,600 --> 00:05:18,000
就是说a的i减一次方小于等于b的z

192
00:05:18,000 --> 00:05:19,566
而且a的i减一嗯

193
00:05:19,566 --> 00:05:21,300
i减一项就等于小于等于b的j项

194
00:05:21,300 --> 00:05:22,033
为什么呢

195
00:05:22,033 --> 00:05:23,033
a的i减

196
00:05:23,066 --> 00:05:24,833
a的i减一项小于等于b的j项

197
00:05:25,366 --> 00:05:27,700
因为就是i在0到m中

198
00:05:27,800 --> 00:05:29,033
i增加的时候

199
00:05:29,100 --> 00:05:30,233
a是不是a

200
00:05:30,233 --> 00:05:31,466
这个数值也增加对吧

201
00:05:31,666 --> 00:05:32,366
i加的时候

202
00:05:32,366 --> 00:05:33,966
因为a是一个递增序列

203
00:05:34,100 --> 00:05:35,466
所以说a这个数值也增加

204
00:05:35,466 --> 00:05:36,300
这个值也增加

205
00:05:36,566 --> 00:05:38,233
然后i增加

206
00:05:38,300 --> 00:05:38,900
然后z呢

207
00:05:38,900 --> 00:05:41,833
它等于m加n加1除以2减去i

208
00:05:41,833 --> 00:05:42,466
i增加了

209
00:05:42,466 --> 00:05:43,066
z就减小

210
00:05:43,066 --> 00:05:43,766
z减小的话

211
00:05:43,766 --> 00:05:44,566
b是不是也减小

212
00:05:44,833 --> 00:05:45,300
所以说呢

213
00:05:45,300 --> 00:05:46,266
就是说嗯

214
00:05:46,266 --> 00:05:47,500
只要这个东西小于它

215
00:05:49,066 --> 00:05:50,433
就是满足条件的

216
00:05:50,433 --> 00:05:51,900
就不用考虑这个条这个条件

217
00:05:52,966 --> 00:05:55,800
然后所以说只要在0到m上进

218
00:05:55,800 --> 00:05:57,233
对i进行一个二分搜索

219
00:05:57,433 --> 00:06:00,366
就是比如说0到m上

220
00:06:00,366 --> 00:06:02,566
假设二分之m这个值

221
00:06:03,233 --> 00:06:04,166
i等于二分之m

222
00:06:04,400 --> 00:06:05,400
然后上就j来

223
00:06:05,866 --> 00:06:07,666
然后它划分出来这个东西

224
00:06:07,800 --> 00:06:10,800
如果说它的就是a的这个i减一

225
00:06:11,266 --> 00:06:13,766
大于了这个b的这一

226
00:06:14,700 --> 00:06:16,700
那就是i i

227
00:06:16,700 --> 00:06:19,766
i大了那就往i往i小的那一部分取

228
00:06:19,766 --> 00:06:21,066
取取这个2分

229
00:06:21,700 --> 00:06:24,033
那如果说a的i减一

230
00:06:24,033 --> 00:06:25,900
然后小于等于小于等于b的z啦

231
00:06:26,666 --> 00:06:27,800
那我们就要判断什么呢

232
00:06:27,966 --> 00:06:30,666
就要判断a的i是不是还小于b的z

233
00:06:31,233 --> 00:06:31,600
如果小的话

234
00:06:31,600 --> 00:06:32,866
我们还得往右边去

235
00:06:33,300 --> 00:06:34,666
那么因为他不是一个最大值

236
00:06:34,966 --> 00:06:36,366
他还要算到一个是

237
00:06:36,400 --> 00:06:38,033
就是不再再往上加

238
00:06:38,033 --> 00:06:38,866
i往再往上加的话

239
00:06:38,866 --> 00:06:40,200
就不满足的那种情况

240
00:06:40,700 --> 00:06:41,833
大概是这样的一个意思

241
00:06:41,966 --> 00:06:42,566
然后

242
00:06:42,566 --> 00:06:45,666
这是一个划分数组的一个理论的讲解

243
00:06:45,966 --> 00:06:48,066
然后经过这一个星期

244
00:06:48,066 --> 00:06:49,033
还有一个第5题啊

245
00:06:49,300 --> 00:06:50,100
第5题

246
00:06:51,066 --> 00:06:52,100
具体明天再讲吧

247
00:06:52,100 --> 00:06:52,900
反正经过这一个星期

248
00:06:52,900 --> 00:06:53,500
我是发现了

249
00:06:53,500 --> 00:06:54,800
就是呃

250
00:06:55,500 --> 00:06:57,366
他每一道题可能有不同的解法

251
00:06:57,666 --> 00:07:00,100
然后我觉得可能说一天来讲做一道题

252
00:07:00,100 --> 00:07:01,600
可能对我来说有些说要求太高

253
00:07:01,600 --> 00:07:02,900
比如说这个这个算法

254
00:07:02,900 --> 00:07:05,066
他你如果说要把理论弄懂

255
00:07:05,066 --> 00:07:06,266
那一个小时是不够的

256
00:07:06,566 --> 00:07:07,366
把理论弄懂了之后

257
00:07:07,366 --> 00:07:08,100
你还要实现的话

258
00:07:08,100 --> 00:07:09,000
一个小时更不够

259
00:07:09,100 --> 00:07:09,866
所以我打算就说

260
00:07:09,866 --> 00:07:11,366
如果说遇到这种嗯

261
00:07:11,433 --> 00:07:13,700
很多的这种很多方法的

262
00:07:13,866 --> 00:07:14,866
不可能一天不会

263
00:07:15,066 --> 00:07:16,200
嗯就做完一道

264
00:07:16,266 --> 00:07:17,066
一天不会做一道

265
00:07:17,066 --> 00:07:19,433
可能说可能要两三天吧

266
00:07:20,100 --> 00:07:20,966
所以说今天就到此

267
00:07:20,966 --> 00:07:21,700
讲到这里

268
00:07:21,700 --> 00:07:22,266
好谢谢大家

269
00:07:22,266 --> 00:07:24,566
有什么问题可以在评论区指出来

