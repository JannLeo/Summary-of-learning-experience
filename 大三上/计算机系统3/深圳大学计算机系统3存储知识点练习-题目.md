1.  对于虚地址13048，如果页的大小是2KB，那么请问相应的虚页号和页内偏移各自是什么？
2.  如果上述的虚页映射到12号物理页，请问其物理地址是什么？
3.  如果访问2中的物理地址时，离CPU最近的一级cache容量为64KB，cache块的大小是16个字节，请给出该物理地址的字地址、块地址、块内偏移。
4.  如果3的cache是按照直接映射方式组织的，请问2中的物理地址所对应的tag/index所占物理地址的哪些位？具体数值是多少? 这个地址所在的内存块可以映射到cache的哪些块中？
5.  如果3的cache是按照2路组项链的方式组织，请问2中的物理地址所对应的tag/index所占物理地址的哪些位？具体数值是多少? 这个地址所在的内存块可以映射到cache的哪些块中？
6.  如果3的cache是按照全相联的方式组织，请问2中的物理地址对应的tag是多少？ 这个地址所在的内存块可以映射到cache的哪些块中？
7.  对于4个块的cache，如果采用2路组相联方式，并假定刚开始cache没有有效数据，当访问0，1，2，3，3，6，7，6，7，0，1块时，请问此时命中率是多少？

| Block address | Cache index | Hit/miss | Cache content after access |       |   |   |
|---------------|-------------|----------|----------------------------|-------|---|---|
|               |             |          | Set 0                      | Set 1 |   |   |
|               |             |          |                            |       |   |   |
|               |             |          |                            |       |   |   |
|               |             |          |                            |       |   |   |
|               |             |          |                            |       |   |   |
|               |             |          |                            |       |   |   |
|               |             |          |                            |       |   |   |
|               |             |          |                            |       |   |   |
|               |             |          |                            |       |   |   |
|               |             |          |                            |       |   |   |
|               |             |          |                            |       |   |   |
|               |             |          |                            |       |   |   |

1.  如果一个采用LRU替换的全相联cache，其容量有4个块，每个块16字节，假设刚开始cache没有有效数据（有效数据块将从0、1、2、3依次开始映射），对于以下字地址请给出cache最终保存的内容, 访问的字地址流。

| 字地址 | 12 | 13 | 30 | 38 | 49 | 36 | 61 | 24 | 28 |
|--------|----|----|----|----|----|----|----|----|----|
| 块地址 |    |    |    |    |    |    |    |    |    |

|   | Cache content（内存块） |
|---|-------------------------|
| 0 |                         |
| 1 |                         |
| 2 |                         |
| 3 |                         |

1.  如果有一个处理器的理想CPI=1，结构设计师正在为它选择存储部件，方案1: I-cache 缺失率2.2% D-cache缺失率3.9%，缺失代价100个时钟周期；方案2 I-cache缺失率2.6% D-cache缺失率3.6%，缺失代价85个时钟周期。目标程序中访问内存的指令占38%。请问选择哪个方案会获得更好的性能？
2.  如果处理器中\$t0=4100、\$t1=200当程序发出lw \$t1,100(\$t0)指令时，程序访问的物理内存是那个单元？假设此时页表（页的大小为4KB）的部分内容如下

| **有效位** | **物理页/硬盘上** |
|------------|-------------------|
| **1**      | 5                 |
| **1**      | 2                 |
| **0**      | 硬盘              |
| **1**      | 6                 |

1.  如果发出lw \$t1,5000(\$t0)指令时，会发生什么事情？处理完成后页表状态有什么变化？假设空闲物理页从20号开始使用。

    此时访问9100地址，对应于2号虚页，查看页表可知有效位为0，发生缺页，从磁盘取入数据后填充到20号物理页，此时对应的页表项从“0-磁盘”变为“1-20”。
